{"version":3,"sources":["webpack:///./src/views/Request.vue","webpack:///./src/views/Request.vue?6cfd"],"names":["class","for","value","loading","request","title","back","name","phone","currency","amount","type","status","id","remove","hasChanges","update","data","this","$route","params","mounted","load","methods","$store","dispatch","$router","push","computed","components","AppPage","AppLoader","AppStatus","render"],"mappings":"qJAIO,eAA8B,cAAtB,iBAAa,G,EACrB,eAAwB,cAAhB,WAAO,G,EACf,eAAsB,cAAd,SAAK,G,EACb,eAAuB,cAAf,UAAM,G,iBAAS,M,GAErBA,MAAM,gB,EACP,eAAkC,SAA3BC,IAAI,UAAS,UAAM,G,EAEtB,eAAsC,UAA9BC,MAAM,QAAO,YAAQ,G,EAC7B,eAA0C,UAAlCA,MAAM,aAAY,WAAO,G,EACjC,eAAuC,UAA/BA,MAAM,UAAS,WAAO,G,EAC9B,eAA4C,UAApCA,MAAM,WAAU,eAAW,G,SASlCF,MAAM,0B,4HAvBA,EAAAG,S,iBAAjB,eAA2B,YACN,EAAAC,S,iBAArB,eAoBW,G,MApBmBC,MAAM,SAAUC,MAAM,G,yBAElD,iBAAyD,CAAzD,eAAyD,UAAtD,E,eAA8B,KAAE,eAAG,EAAAF,QAAQG,MAAI,KAClD,eAAoD,UAAjD,E,eAAwB,KAAE,eAAG,EAAAH,QAAQI,OAAK,KAC7C,eAA+D,UAA5D,E,eAAsB,KAAE,eAAG,EAAAC,SAAS,EAAAL,QAAQM,SAAM,KACrD,eAAmE,UAAhE,E,EAAyB,eAAmC,GAAvBC,KAAM,EAAAP,QAAQQ,Q,mBAEtD,eAQQ,MARR,EAQQ,CAPJ,E,eACA,eAKS,UALDC,GAAG,S,qDAAkB,EAAAD,OAAM,K,CAC/B,EACA,EACA,EACA,G,cAJyB,EAAAA,YAQjC,eAA2D,UAAnDZ,MAAM,aAAc,QAAK,8BAAE,EAAAc,QAAA,EAAAA,OAAA,sBAAQ,WACD,EAAAC,Y,iBAA1C,eAAuE,U,MAA/Df,MAAM,MAAO,QAAK,8BAAE,EAAAgB,QAAA,EAAAA,OAAA,sBAA0B,a,mDAIxD,eAA8E,KAA9E,EAA0C,qBAAkB,eAAG,EAAAH,IAAK,QAAK,I,wFAS5D,GACXI,KADW,WAEP,MAAO,CACHd,SAAS,EACTC,QAAS,GACTS,GAAIK,KAAKC,OAAOC,OAAOP,GACvBJ,WAAA,KACAG,gBAGRS,QAVW,WAWPH,KAAKI,QAETC,QAAS,CACCD,KADD,WACQ,8KACY,EAAKE,OAAOC,SAAS,mBAAoB,EAAKZ,IAD1D,OACT,EAAKT,QADI,OAET,EAAKQ,OAAL,UAAc,EAAKR,eAAnB,aAAc,EAAcQ,OAC5B,EAAKT,SAAU,EAHN,8CAKPW,OAND,WAMU,wKACL,EAAKU,OAAOC,SAAS,iBAAkB,EAAKZ,IADvC,OAEX,EAAKa,QAAQC,KAAK,KAFP,8CAITX,OAVD,WAUU,qKACLC,EADK,iCACM,EAAKb,SADX,IACoBQ,OAAQ,EAAKA,OAAQC,GAAI,EAAKA,KADlD,SAEL,EAAKW,OAAOC,SAAS,iBAAkBR,GAFlC,OAGX,EAAKb,QAAQQ,OAAS,EAAKA,OAHhB,+CAMnBgB,SAAU,CACNb,WADM,WAEF,OAAOG,KAAKd,QAAQQ,SAAWM,KAAKN,SAG5CiB,WAAY,CACRpB,WAAA,KACAqB,UAAA,KACAC,YAAA,KACAC,YAAA,OCpER,EAAOC,OAASA,EAED","file":"js/chunk-2d0a4783.fdbcbbbd.js","sourcesContent":["<template>\r\n  <AppLoader v-if=\"loading\"/>\r\n  <app-page v-else-if=\"request\" title=\"Заявка\" :back=\"true\">\r\n\r\n    <p><strong>Имя владельца</strong>: {{ request.name }}</p>\r\n    <p><strong>Телефон</strong>: {{ request.phone }}</p>\r\n    <p><strong>Сумма</strong>: {{ currency(request.amount) }}  </p>\r\n    <p><strong>Статус</strong>: <AppStatus :type=\"request.status\"/></p>\r\n\r\n    <div class=\"form-control\">\r\n        <label for=\"status\">Статус</label>\r\n        <select id=\"status\" v-model=\"status\">\r\n            <option value=\"done\">Завершен</option>\r\n            <option value=\"cancelled\">Отменен</option>\r\n            <option value=\"active\">Активен</option>\r\n            <option value=\"pending\">Выполняется</option>\r\n        </select>\r\n      </div>\r\n\r\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\r\n    \r\n  </app-page>\r\n\r\n  <h3 v-else class=\"text-center text-white\">Заявки с таким id {{ id }} нет.</h3>\r\n</template>\r\n\r\n<script>\r\nimport { currency } from '../utils/currency'\r\nimport AppLoader from '../components/ui/AppLoader';\r\nimport AppPage from '../components/ui/AppPage'\r\nimport AppStatus from '../components/ui/AppStatus';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            loading: true,\r\n            request: {},\r\n            id: this.$route.params.id,\r\n            currency,\r\n            status\r\n        }\r\n    },\r\n    mounted() {\r\n        this.load();\r\n    },\r\n    methods: {\r\n        async load() {\r\n            this.request = await this.$store.dispatch('request/loadById', this.id);\r\n            this.status = this.request?.status;\r\n            this.loading = false;\r\n        },\r\n        async remove() {\r\n            await this.$store.dispatch('request/remove', this.id) ;\r\n            this.$router.push('/');\r\n        },\r\n        async update() {\r\n            const data = {...this.request, status: this.status, id: this.id}\r\n            await this.$store.dispatch('request/update', data);\r\n            this.request.status = this.status;\r\n        }\r\n    },\r\n    computed: {\r\n        hasChanges() {\r\n            return this.request.status !== this.status;\r\n        }\r\n    },\r\n    components: { \r\n        currency,\r\n        AppPage,\r\n        AppLoader,\r\n        AppStatus\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./Request.vue?vue&type=template&id=0d55fbd9\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}